<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
          integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

    <title>{{title}}</title>

    <style>
        #if{
            width: 0px;
            height: 0px;
            border: 0px;
        }

    </style>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
</head>
<body>
<div class="container">
    <div class="row">
        <div class="col-lg-8  offset-lg-2">
            <h3 class="mt-5">{{time}}</h3>
            <img src="{{ url_for('video_feed') }}" width="100%">
        </div>
    </div>

    <form action="http://localhost:5000/mfccstart" method="POST" target="_blank">
        <input type="submit" name="button" class="btn btn-success" value="MFCC Start">
    </form>
    <form action="http://localhost:5000/mfccend" method="POST" target="_blank">
        <input type="submit" name="button" class="btn btn-success" value="MFCC Stop">
    </form>

    <!--
    <form action="http://localhost:5000/mfcc_feed" method = "POST" target="_blank">
        <input type="submit" name="button" class="btn btn-success" value="MFCC Result">
    </form>
    -->
    
    <h4 id="silence"></h4>
    <h4 id="size"></h4>
    <h4 id="rate"></h4>
    <br>
    <h4 id="startTime"></h4>
    <h4 id="endTime"></h4>
    <h4 id="behaviorType"></h4>
    <script>
        setInterval(function(){$.ajax({
            url: '/mfcc_feed',
            type: 'POST',
            success: function(response) {
                console.log(response);
                $("#silence").html('silence:'+response["silence"]);
                $("#size").html('size:'+response["size"]);
                $("#rate").html('rate:'+response["rate"]);
            },
            error: function(error) {
                console.log(error);
            }
        })}, 1000);

        
        setInterval(function(){$.ajax({
            url: '/log_feed',
            type: 'POST',
            success: function(response) {
                console.log(response);

                $("#startTime").html('startTime:'+response["startTime"]);
                $("#endTime").html('endTime:'+response["endTime"]);
                $("#behaviorType").html('behaviorType:'+response["behaviorType"]);
            },
            error: function(error) {
                console.log(error);
            }
        })}, 1000);

    </script>
</div>


</body>
</html>