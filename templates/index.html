<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <title>THINKBIG</title>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
      integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
      crossorigin="anonymous"
    />
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
    <script src="//ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <!--wrapper 클래스에서 layout 규격 조절 가능
     1fr은 행을 똑같은 비율로 나눠줌 지금 비율은 2*3으로 설정-->
    <style>
      .wrapper {
        display: grid;
        grid-template-rows: 450px 450px;
        grid-template-columns: 1fr 1fr 1fr;
        grid-gap: 3px;
        margin-right: 15px;
        margin-left: 15px;
        margin-top: 10px;
      }
      .item:nth-child(1) {
        grid-column-start: 1;
        grid-column-end: 2;
        grid-row-start: 1;
        grid-row-end: 2;
      }
      .item:nth-child(2) {
        grid-column-start: 2;
        grid-column-end: 3;
        grid-row-start: 1;
        grid-row-end: 2;
      }
      .item:nth-child(3) {
        grid-column-start: 1;
        grid-column-end: 2;
        grid-row-start: 2;
        grid-row-end: 3;
      }
      .item:nth-child(4) {
        grid-column-start: 2;
        grid-column-end: 3;
        grid-row-start: 2;
        grid-row-end: 3;
      }
      .item:nth-child(5) {
        grid-column-start: 3;
        grid-column-end: 4;
        grid-row-start: 1;
        grid-row-end: 2;
      }
      .item:nth-child(6) {
        grid-column-start: 3;
        grid-column-end: 4;
        grid-row-start: 2;
        grid-row-end: 3;
      }
      #navbar {
        border-radius: 25px;
        margin-top: 20px;
        text-align: center;
        border: 3px solid black;
        margin-left: 10px;
        margin-right: 10px;
      }
      .bold {
        padding-top: 25px;
        font-size: 20px;
        color: black;
      }
      .ta1 {
        margin-top: 13px;
      }
      .lb-wrap {
        width: 23%;
        height: 50%;
      }
      .lb-wrap img {
        width: 100%;
        vertical-align: middle;
      }
      .lb-text {
        margin-left: 40px;
        height: 20px;
        background-color: #fbfbfa;
        text-align: center;
        font-size: 15px;
        font-weight: bold;
      }

      #fix{
        position:fixed;
        right:1%;
        top:40%;
        width:32%;
      }
      #btn{
        width:24%;
        height:30px;
        font-weight: bold;
        color:navy;
        background-color:skyblue
      }
      #btn-modal{
        width:24%;
        height:30px;
        font-weight: bold;
        color:navy;
        background-color:skyblue
      }
      .switch {
    position: relative;
    top: 50%;
    left: 50%;
    width: 100px;
    height: 70px;
    text-align: center;
    margin: -30px 0 0 -75px;
    background: #46BEFF;
    transition: all 0.2s ease;
    border-radius: 25px;
    font-size: 13px;
  }
  input[type=radio] {
    display: none;
  }
  .switch label {
    cursor: pointer;
    color: rgba(0,0,0,0.2);
    width: 60px;
    line-height: 50px;
    transition: all 0.2s ease;
  }
  label[for=yes1] {
    position: absolute;
    left: 20px;
    top: -10px;
  }
  label[for=no1] {
    position: absolute;
    right: 20px;
    top: 30px;
  }
  #no1:checked ~ .switch {
    background: #60BD89;
  }
  #yes1:checked ~ .switch label[for=yes1] {
    color: black;
    font-weight: bold;
  }
  #no1:checked ~ .switch label[for=no1] {
    color: black;
    font-weight: bold;
  }
  label[for=yes2] {
    position: absolute;
    left: 20px;
    top: -10px;
  }
  label[for=no2] {
    position: absolute;
    right: 20px;
    top: 30px;
  }
  #no2:checked ~ .switch {
    background: #60BD89;
  }
  #yes2:checked ~ .switch label[for=yes2] {
    color: black;
    font-weight: bold;
  }
  #no2:checked ~ .switch label[for=no2] {
    color: black;
    font-weight: bold;
  }
  label[for=yes3] {
    position: absolute;
    left: 20px;
    top: -10px;
  }
  label[for=no3] {
    position: absolute;
    right: 20px;
    top: 30px;
  }
  #no3:checked ~ .switch {
    background: #60BD89;
  }
  #yes3:checked ~ .switch label[for=yes3] {
    color: black;
    font-weight: bold;
  }
  #no3:checked ~ .switch label[for=no3] {
    color: black;
    font-weight: bold;
  }
  label[for=yes4] {
    position: absolute;
    left: 20px;
    top: -10px;
  }
  label[for=no4] {
    position: absolute;
    right: 20px;
    top: 30px;
  }
  #no4:checked ~ .switch {
    background: #60BD89;
  }
  #yes4:checked ~ .switch label[for=yes4] {
    color: black;
    font-weight: bold;
  }
  #no4:checked ~ .switch label[for=no4] {
    color: black;
    font-weight: bold;
  }
  #modal.modal-overlay {
            width: 100%;
            height: 100%;
            position: absolute;
            left: 0;
            top: 0;
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: rgba(255, 255, 255, 0.25);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
            backdrop-filter: blur(1.5px);
            -webkit-backdrop-filter: blur(1.5px);
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.18);
        }
        #modal .modal-window {
            background: rgba( 69, 139, 197, 0.70 );
            box-shadow: 0 8px 32px 0 rgba( 31, 38, 135, 0.37 );
            backdrop-filter: blur( 13.5px );
            -webkit-backdrop-filter: blur( 13.5px );
            border-radius: 10px;
            border: 1px solid rgba( 255, 255, 255, 0.18 );
            width: 1300px;
            height: 700px;
            position: relative;
            top: -50px;
            padding: 10px;
        }
        #modal .title {
            padding-left: 10px;
            display: inline;
            text-shadow: 1px 1px 2px gray;
            color: white;
            
        }
        #modal .title h2 {
            display: inline;
        }
        #modal .close-area {
            display: inline;
            float: right;
            padding-right: 10px;
            cursor: pointer;
            text-shadow: 1px 1px 2px gray;
            color: white;
        }
        
        #modal .content {
            margin-top: 20px;
            padding: 0px 10px;
            text-shadow: 1px 1px 2px gray;
            color: white;
        }
    </style>
  </head>
  <body>
    <div class="wrapper">
      <!--첫번째 칸 -->
      <div class="item" style="border: 3px solid black; border-radius: 10px">
        <nav class="navbar navbar-expand-lg navbar-light" style="background-color: #e3f2fd; height: 30px;">
          <div class="container-fluid">
            <a class="navbar-brand" href="#"><strong>최시열</strong></a>
          </div>
        </nav>

        <div style="margin-left: 10px; float:left; width: 80%;">
          <img
            style="border: 5px double black; border-radius: 10px"
            src="{{ url_for('video_feed', peer='1') }}"
            width="100%"
            height="360px"
          />
        </div>
        <div class="dropdown" style="margin-top: 20px; float:right; width:17%">
          <button class="btn btn-danger dropdown-toggle" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            AI Agent
          </button>
          <ul class="dropdown-menu" aria-labelledby="dropdownMenuClickableInside">
            <li><button class="dropdown-item" type="button">졸음 깨우기</button></li>
            <li><button class="dropdown-item" type="button">자리비움 경고</button></li>
            <li><button class="dropdown-item" type="button">발표 독려하기</button></li>
            <li><button class="dropdown-item" type="button">칭찬하기</button></li>
          </ul>
        </div>

        <div class="toggle-radio" style="margin-top: 270px; float:right; width:11%">
          <input type="radio" name="rdo1" id="yes1" value="yes1" checked>
          <input type="radio" name="rdo1" id="no1" value="no1">
          <div class="switch">
            <label for="yes1">총 몰입도</label>
            <label for="no1">발표 기록</label>
          </div>
        </div>

        <div style="text-align: center; margin-top: 5px;">
          <img
          id="base1"
          name="base1"
            style="border: 5px double black; border-radius: 10px; padding: 5px;"
            src="http://file3.instiz.net/data/cached_img/upload/2018/09/15/3/df02e3d32cff9daa71b92e54cf8ee6c4_mp4.gif"
            width="100%"
            height="50px"
          />
        </div>

        <script type='text/javascript'>
          $(document).ready(function(){
              $("input:radio[name=rdo1]").click(function() {
                  var value = $(this).val();
                  var image_name;
                  if(value == 'yes1'){
                      image_name = "http://file3.instiz.net/data/cached_img/upload/2018/09/15/3/df02e3d32cff9daa71b92e54cf8ee6c4_mp4.gif";
                  }else{
                          image_name = "http://file3.instiz.net/data/cached_img/upload/2018/09/15/3/720f9d57039c1c9ef396f4d69449cc99_mp4.gif";
                      }
                   $('#base1').attr('src', image_name);
              });
          });
      </script>
      </div>

      <!--두번째 칸-->
      <div class="item" style="border: 3px solid black; border-radius: 10px">
        <nav class="navbar navbar-expand-lg navbar-light" style="background-color: #e3f2fd; height: 30px;">
          <div class="container-fluid">
            <a class="navbar-brand" href="#"><strong>이관우</strong></a>
          </div>
        </nav>

        <div style="margin-left: 10px; float:left; width: 80%;">
          <img
            style="border: 5px double black; border-radius: 10px"
            src="{{ url_for('video_feed', peer='2') }}"
            width="100%"
            height="360px"
          />
        </div>
        <div class="dropdown" style="margin-top: 20px; float:right; width:17%">
          <button class="btn btn-danger dropdown-toggle" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            AI Agent
          </button>
          <ul class="dropdown-menu" aria-labelledby="dropdownMenuClickableInside">
            <li><button class="dropdown-item" type="button">졸음 깨우기</button></li>
            <li><button class="dropdown-item" type="button">자리비움 경고</button></li>
            <li><button class="dropdown-item" type="button">발표 독려하기</button></li>
            <li><button class="dropdown-item" type="button">칭찬하기</button></li>
          </ul>
        </div>

        <div class="toggle-radio" style="margin-top: 270px; float:right; width: 11%">
          <input type="radio" name="rdo2" id="yes2" value="yes2" checked>
          <input type="radio" name="rdo2" id="no2" value="no2">
          <div class="switch">
            <label for="yes2">총 몰입도</label>
            <label for="no2">발표 기록</label>
          </div>
        </div>

        <div style="text-align: center; margin-top: 5px;">
          <img
          id="base2"
          name="base2"
            style="border: 5px double black; border-radius: 10px; padding: 5px;"
            src="http://file3.instiz.net/data/cached_img/upload/2018/09/15/3/df02e3d32cff9daa71b92e54cf8ee6c4_mp4.gif"
            width="100%"
            height="50px"
          />
        </div>

        <script type='text/javascript'>
          var image_name;
          $(document).ready(function(){
              $("input:radio[name=rdo2]").click(function() {
                  var value = $(this).val();                  
                  if(value == 'yes2'){
                      image_name = "http://file3.instiz.net/data/cached_img/upload/2018/09/15/3/df02e3d32cff9daa71b92e54cf8ee6c4_mp4.gif";
                  }else{
                          setInterval(function(){
                            $.ajax({
                              url : "/fig2",
                              type : "POST",
                              success : function(response){
                                console.log("success!!")
                                image_name = '{{url_for('fig2')}}';
                                $('#base2').attr('src', image_name);
                              },
                              error : function(error){
                                console.log("fig2 err!!!");
                              },
                            });
                          },1000);                          
                      }                      
                   $('#base2').attr('src', image_name);
              });
          });     
      </script>
      </div>

      <!--세번째 칸 -->
      <div class="item" style="border: 3px solid black; border-radius: 10px">
        <nav class="navbar navbar-expand-lg navbar-light" style="background-color: #e3f2fd; height: 30px;">
          <div class="container-fluid">
            <a class="navbar-brand" href="#"><strong>이진영</strong></a>
          </div>
        </nav>

        <div style="margin-left: 10px; float:left; width: 80%;">
          <img
            style="border: 5px double black; border-radius: 10px"
            src="{{ url_for('video_feed', peer='3') }}"
            width="100%"
            height="360px"
          />
        </div>
        <div class="dropdown" style="margin-top: 20px; float:right; width:17%">
          <button class="btn btn-danger dropdown-toggle" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            AI Agent
          </button>
          <ul class="dropdown-menu" aria-labelledby="dropdownMenuClickableInside">
            <li><button class="dropdown-item" type="button">졸음 깨우기</button></li>
            <li><button class="dropdown-item" type="button">자리비움 경고</button></li>
            <li><button class="dropdown-item" type="button">발표 독려하기</button></li>
            <li><button class="dropdown-item" type="button">칭찬하기</button></li>
          </ul>
        </div>

        <div class="toggle-radio" style="margin-top: 270px; float:right; width:11%">
          <input type="radio" name="rdo3" id="yes3" value="yes3" checked>
          <input type="radio" name="rdo3" id="no3" value="no3">
          <div class="switch">
            <label for="yes3">총 몰입도</label>
            <label for="no3">발표 기록</label>
          </div>
        </div>

        <div style="text-align: center; margin-top: 5px;">
          <img
          id="base3"
          name="base3"
            style="border: 5px double black; border-radius: 10px; padding: 5px;"
            src="http://file3.instiz.net/data/cached_img/upload/2018/09/15/3/df02e3d32cff9daa71b92e54cf8ee6c4_mp4.gif"
            width="100%"
            height="50px"
          />
        </div>

        <script type='text/javascript'>
          $(document).ready(function(){
              $("input:radio[name=rdo3]").click(function() {
                  var value = $(this).val();
                  var image_name;
                  if(value == 'yes3'){
                      image_name = "http://file3.instiz.net/data/cached_img/upload/2018/09/15/3/df02e3d32cff9daa71b92e54cf8ee6c4_mp4.gif";
                  }else{
                          image_name = "http://file3.instiz.net/data/cached_img/upload/2018/09/15/3/720f9d57039c1c9ef396f4d69449cc99_mp4.gif";
                      }
                   $('#base3').attr('src', image_name);
              });
          });
      </script>
      </div>

      <!--네번째 칸-->
      <div class="item" style="border: 3px solid black; border-radius: 10px">
        <nav class="navbar navbar-expand-lg navbar-light" style="background-color: #e3f2fd; height: 30px;">
          <div class="container-fluid">
            <a class="navbar-brand" href="#"><strong>성효제</strong></a>
          </div>
        </nav>

        <div style="margin-left: 10px; float:left; width: 80%;">
          <img
            style="border: 5px double black; border-radius: 10px"
            src="{{ url_for('video_feed', peer='4') }}"
            width="100%"
            height="360px"
          />
        </div>
        <div class="dropdown" style="margin-top: 20px; float:right; width:17%">
          <button class="btn btn-danger dropdown-toggle" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            AI Agent
          </button>
          <ul class="dropdown-menu" aria-labelledby="dropdownMenuClickableInside">
            <li><button class="dropdown-item" type="button">졸음 깨우기</button></li>
            <li><button class="dropdown-item" type="button">자리비움 경고</button></li>
            <li><button class="dropdown-item" type="button">발표 독려하기</button></li>
            <li><button class="dropdown-item" type="button">칭찬하기</button></li>
          </ul>
        </div>

        <div class="toggle-radio" style="margin-top: 270px; float:right; width: 11%">
          <input type="radio" name="rdo4" id="yes4" value="yes4" checked>
          <input type="radio" name="rdo4" id="no4" value="no4">
          <div class="switch">
            <label for="yes4">총 몰입도</label>
            <label for="no4">발표 기록</label>
          </div>
        </div>

        <div style="text-align: center; margin-top: 5px;">
          <img
          id="base4"
          name="base4"
            style="border: 5px double black; border-radius: 10px; padding: 5px;"
            src="http://file3.instiz.net/data/cached_img/upload/2018/09/15/3/df02e3d32cff9daa71b92e54cf8ee6c4_mp4.gif"
            width="100%"
            height="50px"
          />
        </div>

        <script type='text/javascript'>
          $(document).ready(function(){
              $("input:radio[name=rdo4]").click(function() {
                  var value = $(this).val();
                  var image_name;
                  if(value == 'yes4'){
                      image_name = "http://file3.instiz.net/data/cached_img/upload/2018/09/15/3/df02e3d32cff9daa71b92e54cf8ee6c4_mp4.gif";
                  }else{
                          image_name = "http://file3.instiz.net/data/cached_img/upload/2018/09/15/3/720f9d57039c1c9ef396f4d69449cc99_mp4.gif";
                      }
                   $('#base4').attr('src', image_name);
              });
          });
      </script>
      </div>

      <!--다섯번째 칸-->
      <div class="item" style="border-radius: 10px; border: 3px solid black">
        <nav class="navbar navbar-expand-lg navbar-light" style="background-color: #e3f2fd; height: 30px;">
          <div class="container-fluid">
            <a class="navbar-brand" href="#"><strong>선생님 CAM</strong></a>
          </div>
        </nav>

        <div style="text-align: center">
          <img
            style="
              border: 5px double black;
              border-radius: 10px;
              margin-top: 20px;
            "
            src="{{ url_for('video_feed', peer='5') }}"
            width="78%"
            height="90%"
          />
        </div>

        <div id="fix">
          <button id="btn">Mute</button>
          <button id="btn">Cam</button>
          <button id="btn">학생 전체 알림</button>
          <button id="btn-modal">학생 전체 기록</button>
        </div>
        
        <div id="modal" class="modal-overlay">
          <div class="modal-window">
              <div class="title">
                  <h2>학생 전체 상세 기록</h2>
              </div>
              <div class="close-area">X</div>
              <div class="content">
                <table width ="100%" height="54%" align = "center" >
          
                  <tr height="15%" align = "center" bgcolor="black">
                <td width="12%" style="border-right: none;">학생</td>
                <td width="10%">총 시간</td>
                <td width="10%"><img src="https://i.ibb.co/jbHBS0v/sleep.jpg" alt="eye" border="0" height=100 width=100></img></td>
                <td width="10%"><img src="https://i.ibb.co/GktDbgd/head.jpg" alt="head" border="0" height=100 width=100></img></td>
                <td width="10%"><img src="https://i.ibb.co/sKKfK97/area.jpg" alt="area" border="0" height=100 width=100></img></td>
                <td width="40%">발표 기록</td>
                <td width="8%">시간</td>
                  </tr>
                  <tr height="100px" align="center">
                    <td><strong>최시열</strong></td>
                <td id="student1_3"></td>
                <td id="student1_0"></td>
                <td id="student1_1"></td>
                <td id="student1_2"></td>
                <td><img src="http://file3.instiz.net/data/cached_img/upload/2018/09/15/3/df02e3d32cff9daa71b92e54cf8ee6c4_mp4.gif" height="100px" width="100%"></td>
                <td>0s</td>
                  </tr>
                  <tr height="100px" align="center">
                <td><strong>이관우</strong></td>
                <td id="student2_3"></td>
                <td id="student2_0"></td>
                <td id="student2_1"></td>
                <td id="student2_2"></td>
                <td><img src="http://file3.instiz.net/data/cached_img/upload/2018/09/15/3/df02e3d32cff9daa71b92e54cf8ee6c4_mp4.gif" height="100px" width="100%"></td>
                <td>0s</td>
                  </tr>
                  <tr height="100px" align="center">
                <td><strong>이진영</strong></td>
                <td id="student3_3"></td>
                <td id="student3_0"></td>
                <td id="student3_1"></td>
                <td id="student3_2"></td>
                <td><img src="http://file3.instiz.net/data/cached_img/upload/2018/09/15/3/df02e3d32cff9daa71b92e54cf8ee6c4_mp4.gif" height="100px" width="100%"></td>
                <td>0s</td>
                  </tr>
                  <tr height="100px" align="center">
                <td><strong>성효제</strong></td>
                <td id="student4_3"></td>
                <td id="student4_0"></td>
                <td id="student4_1"></td>
                <td id="student4_2"></td>
                <td><img src="http://file3.instiz.net/data/cached_img/upload/2018/09/15/3/df02e3d32cff9daa71b92e54cf8ee6c4_mp4.gif" height="100px" width="100%"></td>
                <td>0s</td>
                  </tr>
              </table>

              <div id="record" class="logContainer"></div>

        <script>
          var body = document.getElementById("record");
          var student_1 = document.getElementById("student1");
          var student_2 = document.getElementById("student2");
          var student_3 = document.getElementById("student3");
          var student_4 = document.getElementById("student4");

          let arr,
            startTime,
            endTime,
            behaviorType,
            overlap = "None",
            behavior_setting;
          let isoverlap1 = "0";
          let isoverlap2 = "0";
          let isoverlap3 = "0";
          let isoverlap4 = "0";
          /*!!! 전부다 동적 생성으로 바꿔야 함 !!!*/
          //모든 이상 행동 종합
          let action = [0, 0, 0, 0];
          //눈 감음
          let eye = [0, 0, 0, 0];
          //고개 기울임
          let head = [0, 0, 0, 0];
          //얼굴 멀어짐
          let area = [0, 0, 0, 0];
          //이상 행동 시간
          let behavior_time = [0, 0, 0, 0];
          var student_name = "?";
          setInterval(function () {
            $.ajax({
              url: "/log_feed",
              type: "POST",
              success: function (response) {
                console.log(response);
                console.log("test : " + response["startTime"]);

                if (
                  response["name"] === "0" &&
                  isoverlap1 !== response["startTime"]
                ) {
                  if (response["behaviorType"] === "0") {
                    eye[0] += parseInt(response["endTime"]) -
                    parseInt(response["startTime"]);
                  } else if (response["behaviorType"] === "1") {
                    head[0] += parseInt(response["endTime"]) -
                    parseInt(response["startTime"]);
                  } else {
                    area[0] += parseInt(response["endTime"]) -
                    parseInt(response["startTime"]);
                  }
                  isoverlap1 = response["startTime"];
                  action[0]++;
                  student_name = "최시열";
                  behavior_time[0] +=
                    parseInt(response["endTime"]) -
                    parseInt(response["startTime"]);
                } else if (
                  response["name"] === "1" &&
                  isoverlap2 !== response["startTime"]
                ) {
                  if (response["behaviorType"] === "0") {
                    eye[1] += parseInt(response["endTime"]) -
                    parseInt(response["startTime"]);
                  } else if (response["behaviorType"] === "1") {
                    head[1] += parseInt(response["endTime"]) -
                    parseInt(response["startTime"]);
                  } else {
                    area[1] += parseInt(response["endTime"]) -
                    parseInt(response["startTime"]);
                  }
                  isoverlap2 = response["startTime"];
                  action[1]++;
                  student_name = "이관우";
                  behavior_time[1] +=
                    parseInt(response["endTime"]) -
                    parseInt(response["startTime"]);
                } else if (
                  response["name"] === "2" &&
                  isoverlap3 !== response["startTime"]
                ) {
                  if (response["behaviorType"] === "0") {
                    eye[2] += parseInt(response["endTime"]) -
                    parseInt(response["startTime"]);
                  } else if (response["behaviorType"] === "1") {
                    head[2] += parseInt(response["endTime"]) -
                    parseInt(response["startTime"]);
                  } else {
                    area[2] += parseInt(response["endTime"]) -
                    parseInt(response["startTime"]);
                  }
                  isoverlap3 = response["startTime"];
                  action[2]++;
                  student_name = "이진영";
                  behavior_time[2] +=
                    parseInt(response["endTime"]) -
                    parseInt(response["startTime"]);
                } else if (
                  response["name"] === "3" &&
                  isoverlap4 !== response["startTime"]
                ) {
                  if (response["behaviorType"] === "0") {
                    eye[3] += parseInt(response["endTime"]) -
                    parseInt(response["startTime"]);
                  } else if (response["behaviorType"] === "1") {
                    head[3] += parseInt(response["endTime"]) -
                    parseInt(response["startTime"]);
                  } else {
                    area[3] += parseInt(response["endTime"]) -
                    parseInt(response["startTime"]);
                  }
                  isoverlap4 = response["startTime"];
                  action[3]++;
                  student_name = "성효제";
                  behavior_time[3] +=
                    parseInt(response["endTime"]) -
                    parseInt(response["startTime"]);
                }
                $("#student1_0").html(
                  "<strong>" +
                    eye[0] +
                    "</strong>" +
                    "s"
                );
                $("#student1_1").html(
                  "<strong>" +
                    head[0] +
                    "</strong>" +
                    "s"
                );
                $("#student1_2").html(
                  "<strong>" +
                    area[0] +
                    "</strong>" +
                    "s"
                );
                $("#student1_3").html(
                  "<strong>" +
                    behavior_time[0] +
                    "</strong>" +
                    "s"
                );

                $("#student2_0").html(
                  "<strong>" +
                    eye[1] +
                    "</strong>" +
                    "s"
                );
                $("#student2_1").html(
                  "<strong>" +
                    head[1] +
                    "</strong>" +
                    "s"
                );
                $("#student2_2").html(
                  "<strong>" +
                    area[1] +
                    "</strong>" +
                    "s"
                );
                $("#student2_3").html(
                  "<strong>" +
                    behavior_time[1] +
                    "</strong>" +
                    "s"
                );

                $("#student3_0").html(
                  "<strong>" +
                    eye[2] +
                    "</strong>" +
                    "s"
                );
                $("#student3_1").html(
                  "<strong>" +
                    head[2] +
                    "</strong>" +
                    "s"
                );
                $("#student3_2").html(
                  "<strong>" +
                    area[2] +
                    "</strong>" +
                    "s"
                );
                $("#student3_3").html(
                  "<strong>" +
                    behavior_time[2] +
                    "</strong>" +
                    "s"
                );

                $("#student4_0").html(
                  "<strong>" +
                    eye[3] +
                    "</strong>" +
                    "s"
                );
                $("#student4_1").html(
                  "<strong>" +
                    head[3] +
                    "</strong>" +
                    "s"
                );
                $("#student4_2").html(
                  "<strong>" +
                    area[3] +
                    "</strong>" +
                    "s"
                );
                $("#student4_3").html(
                  "<strong>" +
                    behavior_time[3] +
                    "</strong>" +
                    "s"
                );
              },
              error: function (error) {
                console.log(error);
              },
            });
          }, 1000);
        </script>
                  
              </div>
          </div>
      </div>

      <script>
        const loremIpsum = document.getElementById("lorem-ipsum")
fetch("https://baconipsum.com/api/?type=all-meat&paras=200&format=html")
    .then(response => response.text())
    .then(result => loremIpsum.innerHTML = result)
const modal = document.getElementById("modal")
function modalOn() {
    modal.style.display = "flex"
}
function isModalOn() {
    return modal.style.display === "flex"
}
function modalOff() {
    modal.style.display = "none"
}
const btnModal = document.getElementById("btn-modal")
btnModal.addEventListener("click", e => {
    modalOn()
})
const closeBtn = modal.querySelector(".close-area")
closeBtn.addEventListener("click", e => {
    modalOff()
})
modal.addEventListener("click", e => {
    const evTarget = e.target
    if(evTarget.classList.contains("modal-overlay")) {
        modalOff()
    }
})
window.addEventListener("keyup", e => {
    if(isModalOn() && e.key === "Escape") {
        modalOff()
    }
})
    </script>

      </div>

      
    </div>
   
    </div>
  </body>
</html>